#!/bin/bash
echo "=== –î–û–ë–ê–í–õ–ï–ù–ò–ï –§–û–¢–û–ì–†–ê–§–ò–ò –ù–ê –°–ê–ô–¢ ==="
echo ""

# 1. –£–∑–Ω–∞–µ–º –ø—É—Ç—å –∫ –∫–∞—Ä—Ç–∏–Ω–∫–µ
read -p "–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏: " photo_path

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
if [ ! -f "$photo_path" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω!"
    echo "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å: $photo_path"
    exit 1
fi

echo "‚úÖ –§–∞–π–ª –Ω–∞–π–¥–µ–Ω: $(basename "$photo_path")"

# 2. –°–ø—Ä–∞—à–∏–≤–∞–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ
read -p "–û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Ñ–æ—Ç–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä: '–§–æ—Ç–æ —É—á–µ–Ω–æ–≥–æ'): " description

# 3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–º—è —Ñ–∞–π–ª–∞
filename=$(basename "$photo_path" | tr ' ' '-' | tr '[:upper:]' '[:lower:]')
new_filename="photo-$(date +%Y%m%d-%H%M%S)-${filename}"

# 4. –ö–æ–ø–∏—Ä—É–µ–º –≤ static/images/
cp "$photo_path" "static/images/$new_filename"

echo "‚úÖ –§–æ—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ: static/images/$new_filename"

# 5. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏
echo ""
echo "üìã –ö–û–î –î–õ–Ø –í–°–¢–ê–í–ö–ò –í –°–¢–†–ê–ù–ò–¶–£:"
echo "![$description](/images/$new_filename)"
echo ""
echo "–ü—Ä–∏–º–µ—Ä –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã '–û–± —É—á–µ–Ω–æ–º':"
echo "–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª: content/about/_index.md"
echo "–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –≤ –Ω—É–∂–Ω–æ–µ –º–µ—Å—Ç–æ"
echo ""
echo "–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: nano content/about/_index.md"
